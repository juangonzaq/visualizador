(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-269e5030"],{3355:function(e,t,n){"use strict";function a(e){var t="",n=0,a=0,c=0;if(!isNaN(e))if(e>=3600){var o=parseInt((e%3600).toString());n=parseInt((e/3600).toString()),o>=60&&(a=parseInt((o/60).toString()),c=parseInt((o%60).toString()))}else e>=60?(a=parseInt((e/60).toString()),c=parseInt((e%60).toString())):c=e;return t=(n<10?"0":"")+n+":"+(a<10?"0":"")+a+":"+(c<10?"0":"")+c,t}function c(e){return"right"==e?"Derecha":"Izquierda"}n.r(t),n.d(t,"duration",(function(){return a})),n.d(t,"direction",(function(){return c}))},3863:function(e,t,n){"use strict";function a(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t<48||t>57))return!0;e.preventDefault()}n.r(t),n.d(t,"isNumber",(function(){return a}))},e629:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c={class:"d-flex-flex-column mt-10"},o=Object(a["createStaticVNode"])('<div class="toolbar py-5 pt-lg-0" id="kt_toolbar"><div id="kt_toolbar_container" class="container-xxl d-flex flex-stack flex-wrap"><div class="page-title d-flex flex-column me-3"><h1 class="d-flex text-gray-900 fw-bolder my-1 fs-3">Bloques</h1><ul class="breadcrumb breadcrumb-line fw-bold fs-7 my-1"><li class="breadcrumb-item text-gray-700"><span class="text-gray-700">Dashboard</span></li><li class="breadcrumb-item text-gray-700">Bloques</li></ul></div></div></div>',1),l={class:"d-flex flex-column-fluid align-items-start container-xxl"},r={class:"col-12"},i={class:"card card-xl-stretch mb-5 mb-xl-8"},s=Object(a["createElementVNode"])("div",{class:"card-header py-6"},[Object(a["createElementVNode"])("h3",{class:"card-title align-items-start flex-column"},[Object(a["createElementVNode"])("span",{class:"card-label fw-bolder fs-3 mb-1"},"Bloques")])],-1),d={class:"card-body py-3"},b={class:"table-responsive"},u={class:"table align-middle gs-0 gy-5"},m=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",{class:"fw-bolder text-muted bg-light"},[Object(a["createElementVNode"])("th",{class:"ps-4 rounded-start"},"Nombre"),Object(a["createElementVNode"])("th",{class:"ps-4 rounded-start"},"Dirección"),Object(a["createElementVNode"])("th",{class:"ps-4 rounded-start text-center"},"Duración"),Object(a["createElementVNode"])("th",{class:"text-center"},"Visible"),Object(a["createElementVNode"])("th",{class:"pe-4 text-end rounded-end"})])],-1),f={class:"ps-4"},p=["textContent"],v=["textContent"],g={class:""},O=["textContent"],j={class:""},h=["textContent"],x={class:"text-center d-flex justify-content-center pt-7"},C={class:"form-check form-switch form-check-custom form-check-solid"},k=["onUpdate:modelValue","onClick"],N={class:"text-end pe-4"},w=["onClick"],V=Object(a["createElementVNode"])("span",{class:"svg-icon svg-icon-2x"},[Object(a["createElementVNode"])("svg",{fill:"none",viewBox:"0 0 24 24",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[Object(a["createElementVNode"])("path",{xmlns:"http://www.w3.org/2000/svg",opacity:"0.3",d:"M22.1 11.5V12.6C22.1 13.2 21.7 13.6 21.2 13.7L19.9 13.9C19.7 14.7 19.4 15.5 18.9 16.2L19.7 17.2999C20 17.6999 20 18.3999 19.6 18.7999L18.8 19.6C18.4 20 17.8 20 17.3 19.7L16.2 18.9C15.5 19.3 14.7 19.7 13.9 19.9L13.7 21.2C13.6 21.7 13.1 22.1 12.6 22.1H11.5C10.9 22.1 10.5 21.7 10.4 21.2L10.2 19.9C9.4 19.7 8.6 19.4 7.9 18.9L6.8 19.7C6.4 20 5.7 20 5.3 19.6L4.5 18.7999C4.1 18.3999 4.1 17.7999 4.4 17.2999L5.2 16.2C4.8 15.5 4.4 14.7 4.2 13.9L2.9 13.7C2.4 13.6 2 13.1 2 12.6V11.5C2 10.9 2.4 10.5 2.9 10.4L4.2 10.2C4.4 9.39995 4.7 8.60002 5.2 7.90002L4.4 6.79993C4.1 6.39993 4.1 5.69993 4.5 5.29993L5.3 4.5C5.7 4.1 6.3 4.10002 6.8 4.40002L7.9 5.19995C8.6 4.79995 9.4 4.39995 10.2 4.19995L10.4 2.90002C10.5 2.40002 11 2 11.5 2H12.6C13.2 2 13.6 2.40002 13.7 2.90002L13.9 4.19995C14.7 4.39995 15.5 4.69995 16.2 5.19995L17.3 4.40002C17.7 4.10002 18.4 4.1 18.8 4.5L19.6 5.29993C20 5.69993 20 6.29993 19.7 6.79993L18.9 7.90002C19.3 8.60002 19.7 9.39995 19.9 10.2L21.2 10.4C21.7 10.5 22.1 11 22.1 11.5ZM12.1 8.59998C10.2 8.59998 8.6 10.2 8.6 12.1C8.6 14 10.2 15.6 12.1 15.6C14 15.6 15.6 14 15.6 12.1C15.6 10.2 14 8.59998 12.1 8.59998Z",fill:"black"}),Object(a["createElementVNode"])("path",{xmlns:"http://www.w3.org/2000/svg",d:"M17.1 12.1C17.1 14.9 14.9 17.1 12.1 17.1C9.30001 17.1 7.10001 14.9 7.10001 12.1C7.10001 9.29998 9.30001 7.09998 12.1 7.09998C14.9 7.09998 17.1 9.29998 17.1 12.1ZM12.1 10.1C11 10.1 10.1 11 10.1 12.1C10.1 13.2 11 14.1 12.1 14.1C13.2 14.1 14.1 13.2 14.1 12.1C14.1 11 13.2 10.1 12.1 10.1Z",fill:"black"})])],-1),E=[V],y={key:0},B=Object(a["createElementVNode"])("td",{colspan:"5",class:"text-center"},[Object(a["createElementVNode"])("span",{class:"text-muted fw-bold d-block fs-7"},"No se encontraron registros.")],-1),L=[B],S={class:"modal fade",tabindex:"-1",id:"modal-animation"},D={class:"modal-dialog"},I={class:"modal-content"},q={class:"modal-header"},_=["textContent"],M=Object(a["createStaticVNode"])('<div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close"><span class="svg-icon svg-icon-2x"><svg fill="none" viewBox="0 0 24 24" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><rect xmlns="http://www.w3.org/2000/svg" opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black"></rect><rect xmlns="http://www.w3.org/2000/svg" x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black"></rect></svg></span></div>',1),A={class:"modal-body"},H={key:0,class:"d-flex flex-column fv-row"},T=Object(a["createElementVNode"])("label",{class:"d-flex align-items-center fs-6 fw-bold mb-2"},[Object(a["createElementVNode"])("span",{class:"required"},[Object(a["createTextVNode"])("Duración "),Object(a["createElementVNode"])("span",{class:"text-warning"},"(Segundos)")])],-1),U={class:"modal-footer"},R=Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal",id:"animation-close-button"}," Cancelar ",-1),Z=["disabled"];function z(e,t,n,V,B,z){var G=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[o,Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",i,[s,Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("table",u,[m,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.blocks,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",null,[Object(a["createElementVNode"])("td",f,[Object(a["createVNode"])(G,{to:{name:e.getRouteBlock(t.slug)}},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("span",{class:"text-dark fw-bolder text-hover-primary mb-1 fs-6",textContent:Object(a["toDisplayString"])(t.name)},null,8,p),Object(a["createElementVNode"])("span",{class:"text-muted fw-bold d-block fs-7",textContent:Object(a["toDisplayString"])(t.description)},null,8,v)]})),_:2},1032,["to"])]),Object(a["createElementVNode"])("td",g,[Object(a["createElementVNode"])("span",{class:"text-muted fw-bold d-block fs-7",textContent:Object(a["toDisplayString"])(e.animationHelper.direction(t.direction))},null,8,O)]),Object(a["createElementVNode"])("td",j,[Object(a["createElementVNode"])("span",{class:"text-muted fw-bold d-block fs-7 text-center",textContent:Object(a["toDisplayString"])("slides"!==t.slug?e.animationHelper.duration(parseFloat(t.duration)):"")},null,8,h)]),Object(a["createElementVNode"])("td",x,[Object(a["createElementVNode"])("label",C,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":function(e){return t.visible=e},onClick:function(n){return e.changeValue(n,t)}},null,8,k),[[a["vModelCheckbox"],t.visible]])])]),Object(a["createElementVNode"])("td",N,["slides"!=t.slug?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,class:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1","data-bs-toggle":"modal","data-bs-target":"#modal-animation",onClick:function(n){return e.editAnimation(t)}},E,8,w)):Object(a["createCommentVNode"])("",!0)])])})),256)),0==e.blocks.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",y,L)):Object(a["createCommentVNode"])("",!0)])])])])])])]),Object(a["createElementVNode"])("div",S,[Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("div",I,[Object(a["createElementVNode"])("div",q,[Object(a["createElementVNode"])("h5",{class:"modal-title",textContent:Object(a["toDisplayString"])("Editar animación de "+(e.block?e.block.name:""))},null,8,_),M]),Object(a["createElementVNode"])("div",A,[e.block?(Object(a["openBlock"])(),Object(a["createElementBlock"])("form",{key:0,id:"kt_modal_new_target_form",class:"form",onSubmit:t[2]||(t[2]=Object(a["withModifiers"])((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.saveData&&e.saveData.apply(e,t)}),["prevent"]))},["slides"!=e.block.slug?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",H,[T,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",onKeypress:t[0]||(t[0]=function(t){return e.validationHelper.isNumber(t)}),class:"form-control form-control-solid",placeholder:"00",name:"target_title","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.block.duration=t}),min:"0"},null,544),[[a["vModelText"],e.block.duration]])])):Object(a["createCommentVNode"])("",!0)],32)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",U,[R,Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-primary",disabled:e.validateBlock(),onClick:t[3]||(t[3]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.saveAnimation&&e.saveAnimation.apply(e,t)})}," Guardar ",8,Z)])])])])])}var G=n("16d6"),F=n("bc3a"),J=n.n(F),K=n("5be7"),P=(new G["a"],function(){function e(){}return e.prototype.getData=function(){return J.a.get(G["a"].vueInstance.axios.defaults.baseURL+"/block",Object(K["a"])())},e.prototype.changeStatus=function(e,t){return J.a.patch(G["a"].vueInstance.axios.defaults.baseURL+"/block/"+e+"/status",t,Object(K["a"])())},e.prototype.saveAnimation=function(e,t){return J.a.patch(G["a"].vueInstance.axios.defaults.baseURL+"/block/"+e+"/animation",t,Object(K["a"])())},e}()),Q=P,W=n("3dd1"),X=n.n(W),Y=n("3355"),$=n("3863"),ee=Object(a["defineComponent"])({name:"Blocks",components:{},setup:function(){var e=Object(a["ref"])([]),t=new Q,n=Object(a["ref"])({id:null,name:"",slug:"",description:"",visible:!1,duration:0,direction:""}),c=function(){return t.getData().then((function(t){t.data.forEach((function(e){e.visible=1==e.visible})),e.value=t.data})).catch((function(e){}))},o=function(e){return t.changeStatus(e.id,e).then((function(e){X.a.fire("Confirmación!","Información actualizada","success")})).catch((function(e){X.a.fire("Oh no!","No se guardaron los cambios","error")}))},l=function(t,n){X.a.fire({title:"Confirmación!",text:"¿Esta seguro que desea cambiar el estado?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Guardar",cancelButtonText:"No, Cancelar",reverseButtons:!0}).then((function(t){t.isConfirmed?o(n):e.value.forEach((function(t,a){t.id==n.id&&(e.value[a].visible=!n.visible)}))}))},r=function(e){n.value=e},i=function(){var e=!1;return(!n.value.id||"slides"!=n.value.slug&&(isNaN(n.value.duration)||n.value.duration<=0))&&(e=!0),e},s=function(){X.a.fire({title:"Confirmación!",text:"¿Esta seguro que desea cambiar los cambios?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Guardar",cancelButtonText:"No, Cancelar",reverseButtons:!0}).then((function(e){e.isConfirmed&&t.saveAnimation(n.value.id,n.value).then((function(e){X.a.fire("Confirmación!","Información actualizada","success").then((function(e){var t;c(),null===(t=document.getElementById("animation-close-button"))||void 0===t||t.click()}))})).catch((function(e){X.a.fire("Oh no!","No se guardaron los cambios","error")}))}))},d=function(e){var t="";return"slides"==e?t="slides":"messages"==e?t="blocks-messages":"banners"==e&&(t="blocks-banners"),t};return Object(a["onMounted"])((function(){c()})),{getData:c,blocks:e,changeValue:l,animationHelper:Y,editAnimation:r,block:n,validationHelper:$,validateBlock:i,saveAnimation:s,getRouteBlock:d}}}),te=n("6b0d"),ne=n.n(te);const ae=ne()(ee,[["render",z]]);t["default"]=ae}}]);
//# sourceMappingURL=chunk-269e5030.cdd0037b.js.map